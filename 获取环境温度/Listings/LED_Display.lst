C51 COMPILER V9.60.7.0   LED_DISPLAY                                                       02/01/2026 12:36:26 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE LED_DISPLAY
OBJECT MODULE PLACED IN .\Objects\LED_Display.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE LED_Display.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listin
                    -gs\LED_Display.lst) OBJECT(.\Objects\LED_Display.obj)

line level    source

   1          #include <stc15f2k60s2.h>
   2          #include "Common.h"
   3          #include "Delay.h"
   4          #include "DS18B20.h"
   5          
   6          code unsigned char SEG_Table[] = {
   7                  0xC0,   //0
   8                  0xF9,   //1
   9                  0xA4,   //2
  10                  0xB0,   //3
  11                  0x99,   //4
  12                  0x92,   //5
  13                  0x82,   //6
  14                  0xF8,   //7
  15                  0x80,   //8
  16                  0x90,   //9
  17                  0xC6,   //C
  18                  0xFF    //全灭
  19          };
  20          
  21          //温度临时存储数组
  22          unsigned char Temp_dat_arr[] = {11,11,11,11,11,11,11,10};
  23          //温度显示数组
  24          unsigned char Temp_show_arr[] = {11,11,11,11,11,11,11,10};
  25          
  26          //温度转化函数
  27          void Temp_Change(){
  28   1              float temp = Temp_Value();
  29   1              unsigned char i;
  30   1              unsigned int temp_value = (unsigned int)(temp * 100);
  31   1              Temp_dat_arr[3] = temp_value / 1000;
  32   1              Temp_dat_arr[4] = temp_value % 1000 / 100;
  33   1              Temp_dat_arr[5] = temp_value % 100 / 10;
  34   1              Temp_dat_arr[6] = temp_value % 10;
  35   1              for(i = 0;i < 8;i++){
  36   2                      Temp_show_arr[i] = Temp_dat_arr[i];
  37   2              }
  38   1      }
  39          
  40          //数码管显示数组
  41          void LED_Display_Show(){
  42   1              unsigned char i;
  43   1              unsigned char dat;
  44   1              unsigned char com = 0;
  45   1              
  46   1              for(i = 0;i < 8;i++){
  47   2                      SEG(0xFF);
  48   2                      COM(0xFF);
  49   2                      COM(1<<com);
  50   2                      dat = SEG_Table[Temp_show_arr[i]];
  51   2                      if(i == 4){
  52   3                              dat = dat & 0x7F;
  53   3                      }
  54   2                      SEG(dat);
C51 COMPILER V9.60.7.0   LED_DISPLAY                                                       02/01/2026 12:36:26 PAGE 2   

  55   2                      com++;
  56   2                      Delay50us();
  57   2              }
  58   1              com = 0;
  59   1              SEG(0xFF);
  60   1              COM(0xFF);
  61   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    268    ----
   CONSTANT SIZE    =     12    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     16       7
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
