C51 COMPILER V9.60.7.0   MAIN                                                              12/14/2025 09:59:10 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "reg52.h"  //定义51单片机特殊功能寄存器
   2          
   3          sbit LED1 = P0 ^ 0;
   4          sbit LED2 = P0 ^ 1;
   5          sbit LED3 = P0 ^ 2;
   6          sbit LED4 = P0 ^ 3;
   7          sbit LED5 = P0 ^ 4;
   8          
   9          void Delayms(unsigned char time)                //@12.000MHz
  10          {
  11   1              unsigned char i, j;
  12   1      
  13   1              while(time--){
  14   2                      i = 2;
  15   2                      j = 239;
  16   2                      do
  17   2                      {
  18   3                              while (--j);
  19   3                      } while (--i);
  20   2              }
  21   1      }
  22          
  23          void cls_buzz()
  24          {
  25   1          P2 = ((P2 & 0x1f) | 0xA0);
  26   1          P0 = 0x00;
  27   1          P2 &= 0x1f;
  28   1      }
  29          void cls_led()
  30          {
  31   1          P2 = ((P2 & 0x1f) | 0x80);
  32   1          P0 = 0xFF;
  33   1          P2 &= 0x1f;
  34   1      }
  35          
  36          void main(void)
  37          {
  38   1          cls_buzz();
  39   1          cls_led();
  40   1          EX0 = 1;
  41   1          IT0 = 1;  //边沿触发方式(下降沿)
  42   1          EX1 = 1;
  43   1          IT1 = 1;  //边沿触发方式(下降沿)
  44   1          EA = 1;  //开启总中断
  45   1          while(1);
  46   1      }
  47          
  48          //外部中断0中断服务函数
  49          void isr_intr_0(void) interrupt 0
  50          {
  51   1              unsigned char time = 5;
  52   1          P2 = ((P2 & 0x1f) | 0x80);
  53   1              while(time --){
  54   2                      LED1 = ~LED1;
C51 COMPILER V9.60.7.0   MAIN                                                              12/14/2025 09:59:10 PAGE 2   

  55   2                      Delayms(1000);
  56   2                      LED2 = ~LED2;
  57   2                      Delayms(1000);
  58   2                      LED3 = ~LED3;
  59   2                      Delayms(1000);
  60   2                      LED4 = ~LED4;
  61   2                      Delayms(1000);
  62   2                      LED5 = ~LED5;
  63   2                      Delayms(1000);
  64   2                      P2 = P2 & 0x1f;
  65   2              }
  66   1      }
  67          
  68          //外部中断1中断服务函数
  69          void isr_intr_1(void) interrupt 2
  70          {
  71   1              unsigned char time = 5;
  72   1          P2 = ((P2 & 0x1f) | 0x80);
  73   1          while(time --){
  74   2                      LED1 = ~LED1;
  75   2                      LED5 = ~LED5;
  76   2                      Delayms(1000);
  77   2                      LED2 = ~LED2;
  78   2                      LED4 = ~LED4;
  79   2                      Delayms(1000);
  80   2                      LED5 = ~LED5;
  81   2                      Delayms(1000);
  82   2                      P2 = P2 & 0x1f;
  83   2              }
  84   1          P2 = P2 & 0x1f;
  85   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    211    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
