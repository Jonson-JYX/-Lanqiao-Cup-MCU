C51 COMPILER V9.60.7.0   LED_DISPLAY                                                       02/13/2026 15:15:28 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE LED_DISPLAY
OBJECT MODULE PLACED IN .\Objects\LED_Display.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE LED_Display.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listin
                    -gs\LED_Display.lst) OBJECT(.\Objects\LED_Display.obj)

line level    source

   1          #include <STC15F2K60S2.H>
   2          #include "Common.h"
   3          #include "Distance.h"
   4          #include "KEY.h"
   5          #include "Delay.h"
   6          
   7          code unsigned char SGE_Table[] = {
   8              0xC0, 0xF9, 0xA4, 0xB0, 0x99, 0x92, 0x82, 0xF8, 0x80, 0x90, 0xC1, 0xFF
   9          };
  10          
  11          unsigned char Num1_dat_arr[] = {10,1,11,11,11,11,11,11};
  12          unsigned char Num2_dat_arr[] = {10,2,11,11,11,11,11,11};
  13          unsigned char LED_dat_arr[] = {11,11,11,11,11,11,11,11};
  14          
  15          void Num1_Display(){
  16   1          if(sound_dat >= 0 && sound_dat < 10){
  17   2              Num1_dat_arr[5] = 11;
  18   2              Num1_dat_arr[6] = 11;
  19   2              Num1_dat_arr[7] = sound_dat;
  20   2          }
  21   1          if(sound_dat >= 10 && sound_dat < 100){
  22   2              Num1_dat_arr[5] = 11;
  23   2              Num1_dat_arr[6] = sound_dat / 10;
  24   2              Num1_dat_arr[7] = sound_dat % 10;
  25   2          }
  26   1          if(sound_dat >= 100){
  27   2              Num1_dat_arr[5] = sound_dat / 100;
  28   2              Num1_dat_arr[6] = sound_dat % 100 / 10;
  29   2              Num1_dat_arr[7] = sound_dat % 10;
  30   2          }
  31   1      }
  32          
  33          void Num2_Display(){
  34   1          if(sound_value >= 0 && sound_value < 10){
  35   2              Num2_dat_arr[5] = 11;
  36   2              Num2_dat_arr[6] = 11;
  37   2              Num2_dat_arr[7] = sound_value;
  38   2          }
  39   1          if(sound_value >= 10 && sound_value < 100){
  40   2              Num2_dat_arr[5] = 11;
  41   2              Num2_dat_arr[6] = sound_value / 10;
  42   2              Num2_dat_arr[7] = sound_value % 10;
  43   2          }
  44   1          if(sound_value >= 100){
  45   2              Num2_dat_arr[5] = sound_value / 100;
  46   2              Num2_dat_arr[6] = sound_value % 100 / 10;
  47   2              Num2_dat_arr[7] = sound_value % 10;
  48   2          }
  49   1      }
  50          
  51          void LED_Display_Choose(){
  52   1          unsigned char i;
  53   1          if(S4_cnt % 2 == 0){
  54   2              Num1_Display();
C51 COMPILER V9.60.7.0   LED_DISPLAY                                                       02/13/2026 15:15:28 PAGE 2   

  55   2              for(i = 0;i < 8;i++){
  56   3                  LED_dat_arr[i] = Num1_dat_arr[i];
  57   3              }
  58   2          }
  59   1          if(S4_cnt % 2 == 1){
  60   2              Num2_Display();
  61   2              for(i = 0;i < 8;i++){
  62   3                  LED_dat_arr[i] = Num2_dat_arr[i];
  63   3              }
  64   2          }
  65   1      }
  66          
  67          void LED_Display_Show(){
  68   1          unsigned char com;
  69   1          unsigned char dat;
  70   1          for(com = 0;com < 8;com++){
  71   2              SEG(0xFF);
  72   2              COM(1<<com);
  73   2              dat = SGE_Table[LED_dat_arr[com]];
  74   2              SEG(dat);
  75   2              Delay50us();
  76   2          }
  77   1          SEG(0xFF);
  78   1          COM(0xFF);
  79   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    462    ----
   CONSTANT SIZE    =     12    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     24       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
